(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[56],{HvEt:function(e,a,t){"use strict";var l=t("4Gf+");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("DxMX");var r=l(t("ivY1"));t("qhfc");var d=l(t("aEti"));t("dDkx");var u=l(t("in5b"));t("aslW");var n=l(t("b+b+"));t("sPI1");var i=l(t("paLH"));t("oeOs");var s=l(t("AXz3")),f=l(t("RSNA"));t("CKBq");var o=l(t("nvQ8")),m=l(t("jx1L")),c=l(t("pvd2")),p=l(t("RPUv")),h=l(t("1KPh")),v=l(t("ZA+g"));t("62OL");var g=l(t("lZ5B"));t("B5iR");var E=l(t("c0J2")),y=l(t("ZS5U")),b=l(t("hXee")),U=t("rAnT"),w=l(t("I9Uw"));t("Yir7");var q,V,S,x=t("Ozkp"),D=t("+n12"),k=l(t("z+tU")),M=E.default.Option,Y=g.default.Item;w.default.locale("zh-cn");var A="YYYY-MM-DD",I={labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:12},md:{span:10}}},N={wrapperCol:{xs:{span:24,offset:0},sm:{span:10,offset:7}}},T=(q=(0,U.connect)(function(e){var a=e.adminUser,t=e.loading;return{adminUser:a,loading:t.models.adminUser}}),V=g.default.create(),q(S=V(S=function(e){function a(){var e,t;(0,m.default)(this,a);for(var l=arguments.length,r=new Array(l),d=0;d<l;d++)r[d]=arguments[d];return t=(0,p.default)(this,(e=(0,h.default)(a)).call.apply(e,[this].concat(r))),t.state={userId:"",uploading:!1,imageUrl:""},t.handleChange=function(e){"uploading"!==e.file.status?"done"===e.file.status&&(0,x.getBase64)(e.file.originFileObj,function(e){return t.setState({imageUrl:"http://img.hb.aicdn.com/2f9d06d3572334f6061b77b0895efbc4706ff948690ea-93MzbL_fw658",uploading:!1})}):t.setState({uploading:!0})},t.handleSubmit=function(e){var a=t.props,l=a.adminUser,r=l.currentItem,d=l.modalType,u=a.dispatch,n=a.form;e.preventDefault(),n.validateFieldsAndScroll(function(e,a){e||(a.version=r.version,a.avatar="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=1926735935,2699436958&fm=26&gp=0.jpg",u({type:"adminUser/".concat(d),payload:a}))})},t}return(0,v.default)(a,e),(0,c.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch,a=this.props.match.params.id;"id"!==a&&(this.setState({userId:a}),e({type:"adminUser/getUserById",payload:{id:a,modalType:"update"}})),e({type:"adminUser/getRole",payload:{}})}},{key:"render",value:function(){var e=this.props,a=e.adminUser,t=(a.data,a.roleData),l=a.currentItem,m=a.modalType,c=(e.dispatch,e.loading),p=e.form,h=p.getFieldDecorator,v=(p.getFieldValue,[]);if(!(0,D.isEmpty)(t)&&t.length>0)for(var U=0;U<t.length;U++)v.push(y.default.createElement(M,{key:t[U].id},t[U].name));var q=y.default.createElement("div",null,y.default.createElement(o.default,{type:this.state.uploading?"loading":"plus"}),y.default.createElement("div",{className:"ant-upload-text"},"\u4e0a\u4f20")),V=this.state.imageUrl;function S(){b.default.push("/system/adminUser/adminUserList")}return y.default.createElement(r.default,{bordered:!1,className:k.default.card},y.default.createElement(g.default,{onSubmit:this.handleSubmit,hideRequiredMark:!0,style:{marginTop:8}},y.default.createElement(Y,(0,f.default)({label:"\u8d26\u53f7\u5173\u8054\u89d2\u8272:"},I),h("roleId",{initialValue:"create"===m?"":l.roleId,rules:[{required:!0,message:"\u8d26\u53f7\u5173\u8054\u89d2\u8272\u4e0d\u80fd\u4e3a\u7a7a"}]})(y.default.createElement(E.default,{placeholder:"\u8bf7\u9009\u62e9\u8d26\u53f7\u5173\u8054\u89d2\u8272",showSearch:!0,optionFilterProp:"children"},v))),y.default.createElement(Y,(0,f.default)({label:"\u8d26\u53f7\u7c7b\u578b:"},I),h("associatedType",{initialValue:l.associatedType,rules:[{required:!0,message:"\u8d26\u53f7\u7c7b\u578b\u4e0d\u80fd\u4e3a\u7a7a"}]})(y.default.createElement(E.default,{style:{width:"100%"}},y.default.createElement(M,{value:"superAdmin"},"\u5e73\u53f0\u7ba1\u7406\u5458"),y.default.createElement(M,{value:"tenant"},"\u79df\u6237"),y.default.createElement(M,{value:"employee"},"\u96c7\u5458"),y.default.createElement(M,{value:"merchant"},"\u5546\u5bb6"),y.default.createElement(M,{value:"supplier"},"\u4f9b\u5e94\u5546")))),y.default.createElement(Y,(0,f.default)({},I,{label:"\u767b\u5f55\u8d26\u53f7"}),h("loginName",{initialValue:l.loginName,rules:[{required:!0,message:"\u767b\u5f55\u8d26\u53f7\u4e0d\u80fd\u4e3a\u7a7a"}]})(y.default.createElement(s.default,{placeholder:"\u5e73\u53f0\u767b\u5f55\u8d26\u53f7"}))),y.default.createElement(Y,(0,f.default)({},I,{label:"\u767b\u5f55\u5bc6\u7801"}),h("password",{initialValue:l.password,rules:[{required:!0,message:"\u767b\u5f55\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"}]})(y.default.createElement(s.default,{placeholder:"\u5e73\u53f0\u767b\u5f55\u5bc6\u7801"}))),y.default.createElement(Y,(0,f.default)({},I,{label:"\u771f\u5b9e\u59d3\u540d"}),h("trueName",{initialValue:l.trueName,rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u771f\u5b9e\u59d3\u540d"}]})(y.default.createElement(s.default,{placeholder:"\u7528\u6237\u771f\u5b9e\u59d3\u540d"}))),y.default.createElement(Y,(0,f.default)({},I,{label:"\u624b\u673a\u53f7"}),h("mobile",{initialValue:l.mobile,rules:[{required:!0,message:"\u624b\u673a\u53f7\u4e0d\u80fd\u4e3a\u7a7a"}]})(y.default.createElement(s.default,{placeholder:"\u7528\u6237\u624b\u673a\u53f7"}))),y.default.createElement(Y,(0,f.default)({},I,{label:"\u7535\u8bdd"}),h("telephone",{initialValue:l.telephone,rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u7535\u8bdd"}]})(y.default.createElement(s.default,{placeholder:"\u7528\u6237\u7535\u8bdd\u53f7\u7801"}))),y.default.createElement(Y,(0,f.default)({},I,{label:"\u90ae\u7bb1"}),h("email",{initialValue:l.email,rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1"}]})(y.default.createElement(s.default,{placeholder:"\u7528\u6237\u90ae\u7bb1"}))),y.default.createElement(Y,(0,f.default)({},I,{label:"\u51fa\u751f\u65e5\u671f"}),h("birthday",{initialValue:"update"===m?(0,w.default)((0,w.default)(l.birthday).format("YYYY-MM-DD HH:mm:ss"),A):(0,w.default)(new Date,A),rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u51fa\u751f\u65e5\u671f"}]})(y.default.createElement(i.default,{style:{width:"100%"},placeholder:"\u8bf7\u8f93\u5165\u51fa\u751f\u65e5\u671f",format:A}))),y.default.createElement(Y,(0,f.default)({},I,{label:"\u6027\u522b"}),h("sex",{initialValue:l.sex,rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u6027\u522b"}]})(y.default.createElement(n.default.Group,null,y.default.createElement(n.default,{value:1},"\u7537"),y.default.createElement(n.default,{value:0},"\u5973")))),y.default.createElement(Y,(0,f.default)({},I,{label:"\u7528\u6237\u5934\u50cf"}),h("avatar",{initialValue:l.avatar,rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u7528\u6237\u5934\u50cf"}]})(y.default.createElement(u.default,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"//jsonplaceholder.typicode.com/posts/",beforeUpload:x.beforeUpload,onChange:this.handleChange},V?y.default.createElement("img",{src:V,alt:"avatar",width:"102px",height:"102px"}):q))),y.default.createElement(Y,(0,f.default)({label:"\u662f\u5426\u542f\u7528"},I),h("isActive",{initialValue:"create"===m?0:l.isActive})(y.default.createElement(n.default.Group,null,y.default.createElement(n.default,{value:1},"\u542f\u7528"),y.default.createElement(n.default,{value:0},"\u7981\u7528")))),y.default.createElement(Y,(0,f.default)({},N,{style:{marginTop:32}}),y.default.createElement(d.default,{type:"primary",htmlType:"submit",loading:c},"\u63d0\u4ea4"),y.default.createElement(d.default,{style:{marginLeft:8},onClick:S},"\u8fd4\u56de"))))}}]),a}(y.default.Component))||S)||S);a.default=T},Ozkp:function(e,a,t){"use strict";var l=t("4Gf+");Object.defineProperty(a,"__esModule",{value:!0}),a.getBase64=d,a.beforeUpload=u,t("Vvjs");var r=l(t("66S2"));function d(e,a){var t=new FileReader;t.addEventListener("load",function(){return a(t.result)}),t.readAsDataURL(e)}function u(e){console.info("file ===",JSON.stringify(e.type));var a="image/jpeg"===e.type||"image/png"===e.type;a||r.default.error("\u56fe\u7247\u4e0a\u4f20\u53ea\u63d0\u4f9b JPG, JPEG, PNG \u683c\u5f0f\u7684\u6587\u4ef6!");var t=e.size/1024/1024<2;return t||r.default.error("\u6587\u4ef6\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc7 2MB!"),a&&t}}}]);