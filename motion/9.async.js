(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{zktv:function(e,a,t){"use strict";var r=t("4Gf+");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=r(t("OjS7")),s=r(t("BZ3U")),u=t("Dk/q"),i=r(t("hXee")),c=t("ciBx"),p=t("83d0"),d=t("/c+t"),l={namespace:"adminUser",state:{data:{list:[],pagination:{}},currentItem:{},roleData:[],modalType:"create"},effects:{query:s.default.mark(function e(a,t){var r,n,i,d,l,o,f;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=t.call,i=t.put,e.next=4,n(c.query,{url:p.api_url.api_adminUser_query,params:(0,u.parse)(r)});case 4:return d=e.sent,e.next=7,n(c.query,{url:p.api_url.api_role_query,params:{pageIndex:0,pageSize:1e4}});case 7:if(l=e.sent,!(0,p.checkStatus)(d)||!(0,p.checkStatus)(l)){e.next=13;break}return o={list:d.rows,pagination:{total:d.total,pageSize:d.pageSize,current:d.pageIndex+1}},f=l.rows,e.next=13,i({type:"save",payload:{data:o,roleData:f}});case 13:case"end":return e.stop()}},e,this)}),create:s.default.mark(function e(a,t){var r,n,u;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=t.call,t.put,console.info("payload ===",r),e.next=5,n(c.create,{url:p.api_url.api_adminUser_create,args:r});case 5:u=e.sent,(0,p.checkStatus)(u)&&((0,d.Notification)("success","\u521b\u5efa\u6210\u529f!!!"),i.default.push("/system/adminUser/adminUserList"));case 7:case"end":return e.stop()}},e,this)}),update:s.default.mark(function e(a,t){var r,u,l,o,f,m;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,u=t.select,l=t.call,t.put,e.next=4,u(function(e){var a=e.adminUser;return a.currentItem.id});case 4:return o=e.sent,f=(0,n.default)({},r,{id:o}),e.next=8,l(c.update,{url:p.api_url.api_adminUser_edit,args:f});case 8:m=e.sent,(0,p.checkStatus)(m)&&((0,d.Notification)("success","\u7f16\u8f91\u6210\u529f"),i.default.push("/system/adminUser/adminUserList"));case 10:case"end":return e.stop()}},e,this)}),remove:s.default.mark(function e(a,t){var r,n,i,l,o,f,m;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=t.call,i=t.put,e.next=4,n(c.remove,{url:p.api_url.api_adminUser_remove,id:r.id});case 4:if(l=e.sent,!(0,p.checkStatus)(l)){e.next=15;break}return(0,d.Notification)("success","\u5220\u9664\u6210\u529f"),o=r.params,e.next=10,n(c.query,{url:p.api_url.api_adminUser_query,params:(0,u.parse)(o)});case 10:if(f=e.sent,!(0,p.checkStatus)(f)){e.next=15;break}return m={list:f.rows,pagination:{total:f.total,pageSize:f.pageSize,current:f.pageIndex+1}},e.next=15,i({type:"save",payload:{data:m}});case 15:case"end":return e.stop()}},e,this)}),toCreatePage:s.default.mark(function e(a,t){var r;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r=a.payload,t.call,t.put,"create"===r.modalType?i.default.push("/system/adminUser/adminUserEdit/id"):"update"===r.modalType&&i.default.push("/system/adminUser/adminUserEdit/"+r.id);case 3:case"end":return e.stop()}},e,this)}),getUserById:s.default.mark(function e(a,t){var r,n,u,i,d;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=t.call,u=t.put,e.next=4,n(c.getByIds,{url:p.api_url.api_adminUser_get,id:r.id});case 4:if(i=e.sent,!(0,p.checkStatus)(i)){e.next=9;break}return d=i.data,e.next=9,u({type:"save",payload:{currentItem:d,modalType:r.modalType}});case 9:case"end":return e.stop()}},e,this)}),getRole:s.default.mark(function e(a,t){var r,n,u,i;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a.payload,r=t.call,n=t.put,e.next=4,r(c.query,{url:p.api_url.api_role_query,params:{pageIndex:0,pageSize:1e4}});case 4:if(u=e.sent,!(0,p.checkStatus)(u)){e.next=9;break}return i=u.rows,e.next=9,n({type:"save",payload:{roleData:i}});case 9:case"end":return e.stop()}},e,this)})},reducers:{save:function(e,a){return(0,n.default)({},e,a.payload)},showModal:function(e,a){return(0,n.default)({},e,a.payload)},hideModal:function(e){return(0,n.default)({},e)}}};a.default=l}}]);